import{_ as s,o as a,c as n,a as e}from"./app.2a154df8.js";var l="/vitepress-deploy/assets/t_customer.e6a7d2b2.png";const u=JSON.parse('{"title":"\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316","description":"","frontmatter":{},"headers":[{"level":2,"title":"01 \u573A\u666F\u4E3E\u4F8B","slug":"_01-\u573A\u666F\u4E3E\u4F8B"},{"level":2,"title":"02 \u95EE\u9898\u5206\u6790","slug":"_02-\u95EE\u9898\u5206\u6790"},{"level":2,"title":"03 \u89E3\u51B3\u65B9\u6848","slug":"_03-\u89E3\u51B3\u65B9\u6848"}],"relativePath":"src/case/example/\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316.md","lastUpdated":1697524142000}'),p={name:"src/case/example/\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316.md"},c=e('<h1 id="\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316" tabindex="-1">\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316 <a class="header-anchor" href="#\u767E\u4E07\u7EA7\u6570\u636E\u6DF1\u5EA6\u5206\u9875\u5982\u4F55\u4F18\u5316" aria-hidden="true">#</a></h1><h2 id="_01-\u573A\u666F\u4E3E\u4F8B" tabindex="-1">01 \u573A\u666F\u4E3E\u4F8B <a class="header-anchor" href="#_01-\u573A\u666F\u4E3E\u4F8B" aria-hidden="true">#</a></h2><p>\u573A\u666F1. \u67E5\u8BE2\u6587\u7AE0\u5217\u8868\uFF0C\u4E00\u76F4\u6ED1\u52A8\u7FFB\u9875\uFF0C\u4E0D\u7528\u8DF3\u8F6C\u5230\u6307\u5B9A\u9875\u6570\u3002 \u573A\u666F2. \u4ECE\u6570\u636E\u5E93\u67E5\u8BE2\u767E\u4E07\u5BA2\u6237\u6570\u636E\u5199\u5165\u5230redis\u3002 \u573A\u666F3. \u8BBF\u95EE\u67D0\u5C0F\u7A0B\u5E8F\u7684\u79EF\u5206\u5546\u57CE\u67E5\u770B\u5546\u54C1\uFF0C\u4E00\u76F4\u6ED1\u52A8\u7FFB\u9875\uFF0C\u4E0D\u7528\u8DF3\u8F6C\u5230\u6307\u5B9A\u9875\u6570\u3002</p><h2 id="_02-\u95EE\u9898\u5206\u6790" tabindex="-1">02 \u95EE\u9898\u5206\u6790 <a class="header-anchor" href="#_02-\u95EE\u9898\u5206\u6790" aria-hidden="true">#</a></h2><p><img src="'+l+`" alt="\u5BA2\u6237\u8868"></p><p><strong>\u6DF1\u5EA6\u5206\u9875\u95EE\u9898SQL</strong></p><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#FF7B72;">select</span></span>
<span class="line"><span style="color:#C9D1D9;">c.id,c.no,c.name</span></span>
<span class="line"><span style="color:#C9D1D9;">from</span></span>
<span class="line"><span style="color:#C9D1D9;">t_customer c</span></span>
<span class="line"><span style="color:#C9D1D9;">where</span></span>
<span class="line"><span style="color:#C9D1D9;">c.delete_flag = 0</span></span>
<span class="line"><span style="color:#C9D1D9;">order by c.id limit #{offset}, #{pageSize}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u6DF1\u5EA6\u5206\u9875\u9020\u6210\u7684\u7ED3\u679C\uFF0C\u5F53\u4EE5\u4E0A\u7684\u573A\u666F\u7FFB\u9875\u5F88\u6DF1\uFF0Coffset\u8D8A\u6765\u8D8A\u5927\uFF0C\u56DE\u8868\u7684\u8BB0\u5F55\u8D8A\u6765\u8D8A\u591A\uFF0C sql\u67E5\u8BE2\u6027\u80FD\u6025\u5267\u4E0B\u964D\uFF0C\u4F1A\u51FA\u73B0\u5927\u91CF\u7684\u6162SQL\uFF08\u8D85\u8FC71s\u7684\uFF09\u3002</p></blockquote><h2 id="_03-\u89E3\u51B3\u65B9\u6848" tabindex="-1">03 \u89E3\u51B3\u65B9\u6848 <a class="header-anchor" href="#_03-\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a></h2><ol><li>\u5B50\u67E5\u8BE2\uFF0C\u5229\u7528\u805A\u96C6\u7D22\u5F15\u51CF\u5C11\u56DE\u6EDA\uFF0C\u4ECE\u800C\u63D0\u5347\u67E5\u8BE2\u6548\u7387\uFF0C\u7C7B\u4F3C\u4EE5\u4E0B\u7684SQL\uFF1A</li></ol><div class="language-text"><span class="copy"></span><pre><code><span class="line"><span style="color:#c9d1d9;">select</span></span>
<span class="line"><span style="color:#c9d1d9;">c.id,c.name,c.no</span></span>
<span class="line"><span style="color:#c9d1d9;">from</span></span>
<span class="line"><span style="color:#c9d1d9;">t_customer c</span></span>
<span class="line"><span style="color:#c9d1d9;">where</span></span>
<span class="line"><span style="color:#c9d1d9;">c.id &gt;= (select id </span></span>
<span class="line"><span style="color:#c9d1d9;">         from t_customer </span></span>
<span class="line"><span style="color:#c9d1d9;">         where delete_flag = 0 </span></span>
<span class="line"><span style="color:#c9d1d9;">         ORDER BY id </span></span>
<span class="line"><span style="color:#c9d1d9;">         limit #{offset},1) </span></span>
<span class="line"><span style="color:#c9d1d9;">limit #{pageSize};</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre></div><ol start="2"><li>\u5185\u8FDE\u63A5\uFF08inner join\uFF09\u67E5\u8BE2\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u5B50\u67E5\u8BE2\uFF08\u5229\u7528\u805A\u96C6\u7D22\u5F15\uFF09\u7684\u7ED3\u679C\u5F53\u6210\u4E00\u5F20\u4E34\u65F6\u8868\uFF0C\u7136\u540E\u548C\u539F\u8868\u8FDB\u884C\u5173\u8054\u67E5\u8BE2\uFF0C\u7C7B\u4F3C\u4EE5\u4E0B\u7684SQL</li></ol><div class="language-text"><span class="copy"></span><pre><code><span class="line"><span style="color:#c9d1d9;">select</span></span>
<span class="line"><span style="color:#c9d1d9;">c.id,c.name,c.no</span></span>
<span class="line"><span style="color:#c9d1d9;">from</span></span>
<span class="line"><span style="color:#c9d1d9;">t_customer c,(select id </span></span>
<span class="line"><span style="color:#c9d1d9;">                from t_customer </span></span>
<span class="line"><span style="color:#c9d1d9;">                where delete_flag = 0 </span></span>
<span class="line"><span style="color:#c9d1d9;">                ORDER BY id </span></span>
<span class="line"><span style="color:#c9d1d9;">                limit #{offset},#{pageSize}) as d</span></span>
<span class="line"><span style="color:#c9d1d9;">where</span></span>
<span class="line"><span style="color:#c9d1d9;">c.id = d.id;</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre></div><ol start="3"><li>\u4F7F\u7528\u6E38\u6807\u5206\u9875\u67E5\u8BE2\uFF0C\u5F53\u6211\u4EEC\u67E5\u8BE2\u7B2C\u4E8C\u9875\u7684\u65F6\u5019\uFF0C\u628A\u7B2C\u4E00\u9875\u7684\u67E5\u8BE2\u7ED3\u679C\uFF08\u8FD4\u56DE\u6700\u540E\u4E00\u6761\u8BB0\u5F55\u7684ID\uFF09\u653E\u5230\u7B2C\u4E8C\u9875\u7684\u67E5\u8BE2\u6761\u4EF6\u4E2D\uFF0C\u7C7B\u4F3C\u4EE5\u4E0BSQL</li></ol><div class="language-text"><span class="copy"></span><pre><code><span class="line"><span style="color:#c9d1d9;">select c.id,c.no,c.name</span></span>
<span class="line"><span style="color:#c9d1d9;">from t_customer c</span></span>
<span class="line"><span style="color:#c9d1d9;">where c.deletee_flag = 0 and id &gt; #{lastId} </span></span>
<span class="line"><span style="color:#c9d1d9;">order by c.id limit #{pageSize};</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">\u603B\u7ED3</p><ol><li>\u57FA\u4E8Ec\u7AEF\u7684\u5206\u9875\u67E5\u8BE2\uFF0C\u89E3\u51B3\u573A\u666F\u4E00\uFF081\uFF09\uFF083\uFF09\uFF0C\u7FFB\u9875\u5F88\u6DF1\u6027\u80FD\u5DEE\u7684\u95EE\u9898\uFF1A\u4E09\uFF083\uFF09</li><li>\u4ECE\u6570\u636E\u5E93\u67E5\u8BE2\u767E\u4E07\u5458\u5DE5\u6570\u636E\u5199\u5165redis <ul><li>\u6DF1\u5EA6\u5206\u9875\u67E5\u8BE2\u3001\u9632\u6B62\u4EA7\u751F\u5927\u91CF\u7684\u6162SQL</li><li>\u5229\u7528redis\u7684pipline\u6279\u91CF\u5199\u5165\u6570\u636E\u5230redis</li><li>\u5229\u7528TimeUnit.MILLISECONDS.sleep(500)\uFF0C\u9632\u6B62\u77ED\u65F6\u95F4\u5199\u547D\u4EE4\u592A\u9AD8\uFF0C\u5BFC\u81F4redis cpu\u98D9\u5347\u3002</li></ul></li></ol></div>`,16),o=[c];function t(d,i,r,_,y,m){return a(),n("div",null,o)}var f=s(p,[["render",t]]);export{u as __pageData,f as default};
